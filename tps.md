# DAU 기반 TPS 계산 가이드

DAU(Daily Active Users)를 기준으로 서비스의 TPS(Transactions Per Second)를 계산하는 방법입니다.

## 1. 기본 계산식

### 1.1 하루 총 요청 수

```
R = DAU x 사용자당 요청 수
```

### 1.2 초당 평균 TPS

```
TPS_avg = R / (24 x 60 x 60)
```

### 1.3 피크 TPS

피크 시간에 몰리는 트래픽을 고려한 TPS:

```
TPS_peak = TPS_avg x peak_factor
```

> peak_factor: 전체 트래픽 중 피크 시간 비율에 따른 보정 계수 (보통 4~5)

## 2. 예제 계산

- DAU: 15,000명
- 사용자당 하루 평균 요청 수: 100
- 피크 시간 몰림: 20% → peak_factor ≈ 5

### 2.1 하루 요청 수

```
R = 15,000 x 100 = 1,500,000 requests/day
```

### 2.2 평균 TPS

```
TPS_avg = 1,500,000 / 86,400 ≈ 17.36 TPS
```

### 2.3 피크 TPS

```
TPS_peak = 17.36 x 5 ≈ 87 TPS
```

## 3. 권장 설계

- 평균 TPS: 약 17~18 TPS
- 피크 TPS: 약 80~90 TPS
- 안정성을 위해 20~30% 여유분 추가 → **100~120 TPS 권장**

## 4. 참고용 TPS 표

| DAU | 요청/사용자 | TPS_avg | TPS_peak(peak factor=5) |
|-----|-------------|---------|------------------------|
| 5,000 | 100 | 5.8 | 29 |
| 10,000 | 100 | 11.6 | 58 |
| 15,000 | 100 | 17.4 | 87 |
| 20,000 | 100 | 23.1 | 116 |
| 50,000 | 100 | 57.9 | 290 |

